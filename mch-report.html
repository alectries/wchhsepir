<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 2 2024 MCH Report | In-Service Presentation, August 2024</title>
  <meta name="description" content="Section 2 2024 MCH Report | In-Service Presentation, August 2024" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 2 2024 MCH Report | In-Service Presentation, August 2024" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 2 2024 MCH Report | In-Service Presentation, August 2024" />
  
  
  

<meta name="author" content="Alec Higgins" />


<meta name="date" content="2024-08-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cd-report.html"/>
<link rel="next" href="stis.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Alec Higgins In-Service Presentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#sections"><i class="fa fa-check"></i>Sections</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="cd-report.html"><a href="cd-report.html"><i class="fa fa-check"></i><b>1</b> 2024 CD Report</a>
<ul>
<li class="chapter" data-level="1.1" data-path="cd-report.html"><a href="cd-report.html#libraries"><i class="fa fa-check"></i><b>1.1</b> Libraries</a></li>
<li class="chapter" data-level="1.2" data-path="cd-report.html"><a href="cd-report.html#settings"><i class="fa fa-check"></i><b>1.2</b> Settings</a></li>
<li class="chapter" data-level="1.3" data-path="cd-report.html"><a href="cd-report.html#reading-data-then-saving"><i class="fa fa-check"></i><b>1.3</b> Reading data, then saving</a></li>
<li class="chapter" data-level="1.4" data-path="cd-report.html"><a href="cd-report.html#combining-and-saving-data"><i class="fa fa-check"></i><b>1.4</b> Combining and saving data</a></li>
<li class="chapter" data-level="1.5" data-path="cd-report.html"><a href="cd-report.html#extracting-and-exporting-demographic-data-from-a-line-list"><i class="fa fa-check"></i><b>1.5</b> Extracting and exporting demographic data from a line list</a></li>
<li class="chapter" data-level="1.6" data-path="cd-report.html"><a href="cd-report.html#tabulating-demographic-data"><i class="fa fa-check"></i><b>1.6</b> Tabulating demographic data</a></li>
<li class="chapter" data-level="1.7" data-path="cd-report.html"><a href="cd-report.html#calculating-incidence-by-zip-code"><i class="fa fa-check"></i><b>1.7</b> Calculating incidence by ZIP code</a></li>
<li class="chapter" data-level="1.8" data-path="cd-report.html"><a href="cd-report.html#generating-counts-and-rates-tables"><i class="fa fa-check"></i><b>1.8</b> Generating counts and rates tables</a></li>
<li class="chapter" data-level="1.9" data-path="cd-report.html"><a href="cd-report.html#final-notes"><i class="fa fa-check"></i><b>1.9</b> Final notes</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="mch-report.html"><a href="mch-report.html"><i class="fa fa-check"></i><b>2</b> 2024 MCH Report</a>
<ul>
<li class="chapter" data-level="2.1" data-path="mch-report.html"><a href="mch-report.html#libraries-1"><i class="fa fa-check"></i><b>2.1</b> Libraries</a></li>
<li class="chapter" data-level="2.2" data-path="mch-report.html"><a href="mch-report.html#transposing-data"><i class="fa fa-check"></i><b>2.2</b> Transposing data</a></li>
<li class="chapter" data-level="2.3" data-path="mch-report.html"><a href="mch-report.html#importing-data"><i class="fa fa-check"></i><b>2.3</b> Importing data</a></li>
<li class="chapter" data-level="2.4" data-path="mch-report.html"><a href="mch-report.html#cleaning-and-combining-data"><i class="fa fa-check"></i><b>2.4</b> Cleaning and combining data</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="mch-report.html"><a href="mch-report.html#prenatal-care-initiation-by-maternal-age"><i class="fa fa-check"></i><b>2.4.1</b> Prenatal care initiation by maternal age</a></li>
<li class="chapter" data-level="2.4.2" data-path="mch-report.html"><a href="mch-report.html#prenatal-care-initiation-by-maternal-education"><i class="fa fa-check"></i><b>2.4.2</b> Prenatal care initiation by maternal education</a></li>
<li class="chapter" data-level="2.4.3" data-path="mch-report.html"><a href="mch-report.html#prenatal-care-initiation-by-marital-status"><i class="fa fa-check"></i><b>2.4.3</b> Prenatal care initiation by marital status</a></li>
<li class="chapter" data-level="2.4.4" data-path="mch-report.html"><a href="mch-report.html#prenatal-care-initiation-by-maternal-race-and-ethnicity"><i class="fa fa-check"></i><b>2.4.4</b> Prenatal care initiation by maternal race and ethnicity</a></li>
<li class="chapter" data-level="2.4.5" data-path="mch-report.html"><a href="mch-report.html#birthweight-by-prenatal-care-initiation"><i class="fa fa-check"></i><b>2.4.5</b> Birthweight by prenatal care initiation</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="mch-report.html"><a href="mch-report.html#exporting-data"><i class="fa fa-check"></i><b>2.5</b> Exporting data</a></li>
<li class="chapter" data-level="2.6" data-path="mch-report.html"><a href="mch-report.html#graphing-data"><i class="fa fa-check"></i><b>2.6</b> Graphing data</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="mch-report.html"><a href="mch-report.html#prenatal-care-initiation-by-maternal-age-1"><i class="fa fa-check"></i><b>2.6.1</b> Prenatal care initiation by maternal age</a></li>
<li class="chapter" data-level="2.6.2" data-path="mch-report.html"><a href="mch-report.html#prenatal-care-initiation-by-maternal-education-1"><i class="fa fa-check"></i><b>2.6.2</b> Prenatal care initiation by maternal education</a></li>
<li class="chapter" data-level="2.6.3" data-path="mch-report.html"><a href="mch-report.html#prenatal-care-initiation-by-marital-status-1"><i class="fa fa-check"></i><b>2.6.3</b> Prenatal care initiation by marital status</a></li>
<li class="chapter" data-level="2.6.4" data-path="mch-report.html"><a href="mch-report.html#prenatal-care-initiation-by-race-and-ethnicity"><i class="fa fa-check"></i><b>2.6.4</b> Prenatal care initiation by race and ethnicity</a></li>
<li class="chapter" data-level="2.6.5" data-path="mch-report.html"><a href="mch-report.html#birthweight-by-prenatal-care-initiation-1"><i class="fa fa-check"></i><b>2.6.5</b> Birthweight by prenatal care initiation</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="mch-report.html"><a href="mch-report.html#calculating-risk-ratios-for-early-prenatal-care"><i class="fa fa-check"></i><b>2.7</b> Calculating risk ratios for early prenatal care</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="mch-report.html"><a href="mch-report.html#risk-of-prenatal-care-initiation-by-maternal-age"><i class="fa fa-check"></i><b>2.7.1</b> Risk of prenatal care initiation by maternal age</a></li>
<li class="chapter" data-level="2.7.2" data-path="mch-report.html"><a href="mch-report.html#risk-of-prenatal-care-initiation-by-maternal-education"><i class="fa fa-check"></i><b>2.7.2</b> Risk of prenatal care initiation by maternal education</a></li>
<li class="chapter" data-level="2.7.3" data-path="mch-report.html"><a href="mch-report.html#risk-of-prenatal-care-initiation-by-marital-status"><i class="fa fa-check"></i><b>2.7.3</b> Risk of prenatal care initiation by marital status</a></li>
<li class="chapter" data-level="2.7.4" data-path="mch-report.html"><a href="mch-report.html#risk-of-prenatal-care-initiation-by-race-and-ethnicity"><i class="fa fa-check"></i><b>2.7.4</b> Risk of prenatal care initiation by race and ethnicity</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="mch-report.html"><a href="mch-report.html#final-notes-1"><i class="fa fa-check"></i><b>2.8</b> Final notes</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="stis.html"><a href="stis.html"><i class="fa fa-check"></i><b>3</b> STIs</a>
<ul>
<li class="chapter" data-level="3.1" data-path="stis.html"><a href="stis.html#libraries-2"><i class="fa fa-check"></i><b>3.1</b> Libraries</a></li>
<li class="chapter" data-level="3.2" data-path="stis.html"><a href="stis.html#importing-chlamydia-data"><i class="fa fa-check"></i><b>3.2</b> Importing chlamydia data</a></li>
<li class="chapter" data-level="3.3" data-path="stis.html"><a href="stis.html#filtering-data-to-exclude-non-wake-cases"><i class="fa fa-check"></i><b>3.3</b> Filtering data to exclude non-Wake cases</a></li>
<li class="chapter" data-level="3.4" data-path="stis.html"><a href="stis.html#loading-census-data"><i class="fa fa-check"></i><b>3.4</b> Loading census data</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="stis.html"><a href="stis.html#loading-age-data"><i class="fa fa-check"></i><b>3.4.1</b> Loading age data</a></li>
<li class="chapter" data-level="3.4.2" data-path="stis.html"><a href="stis.html#loading-race-and-ethnicity-data"><i class="fa fa-check"></i><b>3.4.2</b> Loading race and ethnicity data</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="stis.html"><a href="stis.html#tally-cases-by-group-and-calculate-incidence"><i class="fa fa-check"></i><b>3.5</b> Tally cases by group and calculate incidence</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="stis.html"><a href="stis.html#chlamydia-incidence-by-age-group"><i class="fa fa-check"></i><b>3.5.1</b> Chlamydia incidence by age group</a></li>
<li class="chapter" data-level="3.5.2" data-path="stis.html"><a href="stis.html#chlamydia-incidence-by-race"><i class="fa fa-check"></i><b>3.5.2</b> Chlamydia incidence by race</a></li>
<li class="chapter" data-level="3.5.3" data-path="stis.html"><a href="stis.html#chlamydia-count-by-municipality"><i class="fa fa-check"></i><b>3.5.3</b> Chlamydia count by municipality</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="stis.html"><a href="stis.html#graphing-chlamydia"><i class="fa fa-check"></i><b>3.6</b> Graphing chlamydia</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="stis.html"><a href="stis.html#chlamydia-incidence-by-age-group-1"><i class="fa fa-check"></i><b>3.6.1</b> Chlamydia incidence by age group</a></li>
<li class="chapter" data-level="3.6.2" data-path="stis.html"><a href="stis.html#chlamydia-incidence-by-race-1"><i class="fa fa-check"></i><b>3.6.2</b> Chlamydia incidence by race</a></li>
<li class="chapter" data-level="3.6.3" data-path="stis.html"><a href="stis.html#chlamydia-count-by-municipality-1"><i class="fa fa-check"></i><b>3.6.3</b> Chlamydia count by municipality</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="stis.html"><a href="stis.html#tallying-and-graphing-gonorrhea"><i class="fa fa-check"></i><b>3.7</b> Tallying and graphing gonorrhea</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="stis.html"><a href="stis.html#importing"><i class="fa fa-check"></i><b>3.7.1</b> Importing</a></li>
<li class="chapter" data-level="3.7.2" data-path="stis.html"><a href="stis.html#filtering"><i class="fa fa-check"></i><b>3.7.2</b> Filtering</a></li>
<li class="chapter" data-level="3.7.3" data-path="stis.html"><a href="stis.html#tallying"><i class="fa fa-check"></i><b>3.7.3</b> Tallying</a></li>
<li class="chapter" data-level="3.7.4" data-path="stis.html"><a href="stis.html#graphing-gonorrhea-incidence-by-age-group"><i class="fa fa-check"></i><b>3.7.4</b> Graphing gonorrhea incidence by age group</a></li>
<li class="chapter" data-level="3.7.5" data-path="stis.html"><a href="stis.html#graphing-gonorrhea-incidence-by-race"><i class="fa fa-check"></i><b>3.7.5</b> Graphing gonorrhea incidence by race</a></li>
<li class="chapter" data-level="3.7.6" data-path="stis.html"><a href="stis.html#graphing-gonorrhea-count-by-municipality"><i class="fa fa-check"></i><b>3.7.6</b> Graphing gonorrhea count by municipality</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="stis.html"><a href="stis.html#final-notes-2"><i class="fa fa-check"></i><b>3.8</b> Final notes</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html"><i class="fa fa-check"></i><b>4</b> Respiratory Viruses</a>
<ul>
<li class="chapter" data-level="4.1" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html#header-content"><i class="fa fa-check"></i><b>4.1</b> Header content</a></li>
<li class="chapter" data-level="4.2" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html#settings-and-setup"><i class="fa fa-check"></i><b>4.2</b> Settings and setup</a></li>
<li class="chapter" data-level="4.3" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html#importing-data-1"><i class="fa fa-check"></i><b>4.3</b> Importing data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html#factors"><i class="fa fa-check"></i><b>4.3.1</b> Factors</a></li>
<li class="chapter" data-level="4.3.2" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html#modifying-the-epi-year"><i class="fa fa-check"></i><b>4.3.2</b> Modifying the epi year</a></li>
<li class="chapter" data-level="4.3.3" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html#reading-the-files"><i class="fa fa-check"></i><b>4.3.3</b> Reading the files</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html#highlights-slide"><i class="fa fa-check"></i><b>4.4</b> Highlights slide</a></li>
<li class="chapter" data-level="4.5" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html#graphing"><i class="fa fa-check"></i><b>4.5</b> Graphing</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html#ili-counts-by-week"><i class="fa fa-check"></i><b>4.5.1</b> ILI counts by week</a></li>
<li class="chapter" data-level="4.5.2" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html#ili-counts-by-age-group"><i class="fa fa-check"></i><b>4.5.2</b> ILI counts by age group</a></li>
<li class="chapter" data-level="4.5.3" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html#ili-proportions-by-age-group"><i class="fa fa-check"></i><b>4.5.3</b> ILI proportions by age group</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html#rendering-and-formatting"><i class="fa fa-check"></i><b>4.6</b> Rendering and formatting</a></li>
<li class="chapter" data-level="4.7" data-path="respiratory-viruses.html"><a href="respiratory-viruses.html#final-notes-3"><i class="fa fa-check"></i><b>4.7</b> Final notes</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="bookdown.html"><a href="bookdown.html"><i class="fa fa-check"></i><b>5</b> Bookdown</a>
<ul>
<li class="chapter" data-level="5.1" data-path="bookdown.html"><a href="bookdown.html#file-structure"><i class="fa fa-check"></i><b>5.1</b> File structure</a></li>
<li class="chapter" data-level="5.2" data-path="bookdown.html"><a href="bookdown.html#bookdown-package"><i class="fa fa-check"></i><b>5.2</b> Bookdown package</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Created with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">In-Service Presentation, August 2024</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mch-report" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Section 2</span> 2024 MCH Report<a href="mch-report.html#mch-report" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>WCHHS publishes an annual Maternal and Child Health Report, which provides information about maternal and child demographics, risk factors, morbidity, and mortality to the Wake County public, healthcare providers, and internal WCHHS programs.</p>
<p>For this report, I contributed a bit of data analysis with graphics. The graphics and all data management was done in R, and the code is shown below.</p>
<p>We will start by going through the <code>import.R</code> script, then look through the graph-generating R Markdown file. Unlike Section 1 (which relies partially on confidential data), this section was rendered with the actual data and outputs are shown as examples. The data used in this section is from the North Carolina BabyBook.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<div id="libraries-1" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Libraries<a href="mch-report.html#libraries-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="mch-report.html#cb21-1" tabindex="-1"></a><span class="do">## libraries</span></span>
<span id="cb21-2"><a href="mch-report.html#cb21-2" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(tidyverse))</span>
<span id="cb21-3"><a href="mch-report.html#cb21-3" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb21-4"><a href="mch-report.html#cb21-4" tabindex="-1"></a><span class="fu">library</span>(readr)</span></code></pre></div>
<p>There are three non-standard libraries used in this script.</p>
<ol style="list-style-type: decimal">
<li><code>tidyverse</code>: The tidyverse is a set of packages with a common syntax and philosophy. It includes many useful packages, such as <code>dplyr</code> (which provides many data management functions) and <code>ggplot2</code> (which is used to create all graphics in this presentation).</li>
<li><code>readxl</code>: This package provides functions that read Microsoft Excel files.</li>
<li><code>readr</code>: This package is useful for customizing how you read .csv files.</li>
</ol>
</div>
<div id="transposing-data" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Transposing data<a href="mch-report.html#transposing-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For the analysis below, it is helpful to have a way to transpose (flip the rows and columns of) data. For this script, I wrote <code>sesh_transpose()</code>, which transposes the data in a more consistent and useful way than R’s default <code>t()</code> function. Outside of the practicum, I later edited and added onto <code>sesh_transpose()</code> and published it in my <code>ezepi</code> package as <code>ezt()</code>, which I recommend using instead of copying this code. For this script, <code>sesh_transpose()</code> is sufficient.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="mch-report.html#cb22-1" tabindex="-1"></a><span class="do">## transposing function</span></span>
<span id="cb22-2"><a href="mch-report.html#cb22-2" tabindex="-1"></a>sesh_transpose <span class="ot">&lt;-</span> <span class="cf">function</span>(x, row_name){</span>
<span id="cb22-3"><a href="mch-report.html#cb22-3" tabindex="-1"></a>  counter <span class="ot">&lt;-</span> <span class="fu">nrow</span>(x)</span>
<span id="cb22-4"><a href="mch-report.html#cb22-4" tabindex="-1"></a>  name <span class="ot">&lt;-</span> <span class="fu">as.character</span>(counter)</span>
<span id="cb22-5"><a href="mch-report.html#cb22-5" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">tibble</span>({{name}} <span class="sc">:=</span> <span class="fu">slice</span>(x, {{counter}}) <span class="sc">%&gt;%</span> </span>
<span id="cb22-6"><a href="mch-report.html#cb22-6" tabindex="-1"></a>              <span class="fu">unlist</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb22-7"><a href="mch-report.html#cb22-7" tabindex="-1"></a>              <span class="fu">as.vector</span>())</span>
<span id="cb22-8"><a href="mch-report.html#cb22-8" tabindex="-1"></a>  counter <span class="ot">&lt;-</span> counter <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb22-9"><a href="mch-report.html#cb22-9" tabindex="-1"></a>  <span class="cf">repeat</span>{</span>
<span id="cb22-10"><a href="mch-report.html#cb22-10" tabindex="-1"></a>    <span class="cf">if</span>(counter <span class="sc">==</span> <span class="dv">0</span>){</span>
<span id="cb22-11"><a href="mch-report.html#cb22-11" tabindex="-1"></a>      <span class="cf">break</span></span>
<span id="cb22-12"><a href="mch-report.html#cb22-12" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb22-13"><a href="mch-report.html#cb22-13" tabindex="-1"></a>      name <span class="ot">&lt;-</span> <span class="fu">as.character</span>(counter)</span>
<span id="cb22-14"><a href="mch-report.html#cb22-14" tabindex="-1"></a>      df <span class="ot">&lt;-</span> <span class="fu">add_column</span>(</span>
<span id="cb22-15"><a href="mch-report.html#cb22-15" tabindex="-1"></a>        df,</span>
<span id="cb22-16"><a href="mch-report.html#cb22-16" tabindex="-1"></a>        {{name}} <span class="sc">:=</span> <span class="fu">slice</span>(x, {{counter}}) <span class="sc">%&gt;%</span> </span>
<span id="cb22-17"><a href="mch-report.html#cb22-17" tabindex="-1"></a>          <span class="fu">unlist</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb22-18"><a href="mch-report.html#cb22-18" tabindex="-1"></a>          <span class="fu">as.vector</span>(),</span>
<span id="cb22-19"><a href="mch-report.html#cb22-19" tabindex="-1"></a>        <span class="at">.before =</span> <span class="dv">1</span></span>
<span id="cb22-20"><a href="mch-report.html#cb22-20" tabindex="-1"></a>      )</span>
<span id="cb22-21"><a href="mch-report.html#cb22-21" tabindex="-1"></a>      counter <span class="ot">&lt;-</span> counter <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb22-22"><a href="mch-report.html#cb22-22" tabindex="-1"></a>    }</span>
<span id="cb22-23"><a href="mch-report.html#cb22-23" tabindex="-1"></a>  }</span>
<span id="cb22-24"><a href="mch-report.html#cb22-24" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb22-25"><a href="mch-report.html#cb22-25" tabindex="-1"></a>    <span class="fu">setNames</span>(<span class="fu">slice</span>(df, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-26"><a href="mch-report.html#cb22-26" tabindex="-1"></a>    <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-27"><a href="mch-report.html#cb22-27" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), as.numeric)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-28"><a href="mch-report.html#cb22-28" tabindex="-1"></a>    <span class="fu">add_column</span>(</span>
<span id="cb22-29"><a href="mch-report.html#cb22-29" tabindex="-1"></a>      {{row_name}} <span class="sc">:=</span> <span class="fu">names</span>(x)[<span class="sc">-</span><span class="dv">1</span>],</span>
<span id="cb22-30"><a href="mch-report.html#cb22-30" tabindex="-1"></a>      <span class="at">.before =</span> <span class="dv">1</span></span>
<span id="cb22-31"><a href="mch-report.html#cb22-31" tabindex="-1"></a>    )</span>
<span id="cb22-32"><a href="mch-report.html#cb22-32" tabindex="-1"></a>  <span class="fu">return</span>(df)</span>
<span id="cb22-33"><a href="mch-report.html#cb22-33" tabindex="-1"></a>}</span></code></pre></div>
<p>Because <code>ezt()</code> is publicly available, I will not explain this function in too much detail. Briefly, this function:</p>
<ol style="list-style-type: decimal">
<li>Sets a counter variable based on the number of rows in the dataset.</li>
<li>Sets the first column name to be generated to the counter variable.</li>
<li>Creates a dataset with one column, which is the bottom row of the original dataset.</li>
<li>Decreases the counter by one.</li>
<li>Starts a loop that grabs the last row of the remaining dataset, converts it to a column in the new dataset, and decreases the counter by one until the counter is zero.</li>
<li>Sets the first row of the new dataset as the column headers, then removes the first row.</li>
<li>Adds the column headers from the original dataset as the first column of the new dataset.</li>
</ol>
<p>If this function would be useful to you, I suggest installing and exploring <a href="https://github.com/alectries/ezepi">ezepi</a>. Instructions for installation and use can be found in the bottom section of the <code>ezepi</code> homepage. You can also use <code>t()</code>, which is included in base R.</p>
</div>
<div id="importing-data" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Importing data<a href="mch-report.html#importing-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now, we need to import data from an Excel workbook, which was manually copied from certain BabyBook tables. We can do this using the <code>readxl</code> package:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="mch-report.html#cb23-1" tabindex="-1"></a><span class="do">## import data from Tables.xlsx</span></span>
<span id="cb23-2"><a href="mch-report.html#cb23-2" tabindex="-1"></a>pncxedu <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">&quot;Tables.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="st">&quot;table-5&quot;</span>)</span>
<span id="cb23-3"><a href="mch-report.html#cb23-3" tabindex="-1"></a>pncxage <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">&quot;Tables.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="st">&quot;table-6&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-4"><a href="mch-report.html#cb23-4" tabindex="-1"></a>  <span class="fu">sesh_transpose</span>(<span class="st">&quot;Month Prenatal Care Began&quot;</span>)</span>
<span id="cb23-5"><a href="mch-report.html#cb23-5" tabindex="-1"></a>pncxmarital <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">&quot;Tables.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="st">&quot;table-7&quot;</span>)</span>
<span id="cb23-6"><a href="mch-report.html#cb23-6" tabindex="-1"></a>pncxrace <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">&quot;Tables.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="st">&quot;race-table&quot;</span>)</span>
<span id="cb23-7"><a href="mch-report.html#cb23-7" tabindex="-1"></a>pncxbirthweight <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">&quot;Tables.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="st">&quot;table-9&quot;</span>)</span></code></pre></div>
<p>Notice that we transpose the table with prenatal care by age. That is because, unlike the other tables, Age is along the table’s y-axis, while month prenatal care began is along the x-axis. <code>sesh_transpose()</code> flips these axes, and <code>"Month Prenatal Care Began"</code> is included as an argument to set the header for the first column, which will no longer be the maternal age.</p>
</div>
<div id="cleaning-and-combining-data" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Cleaning and combining data<a href="mch-report.html#cleaning-and-combining-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="prenatal-care-initiation-by-maternal-age" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Prenatal care initiation by maternal age<a href="mch-report.html#prenatal-care-initiation-by-maternal-age" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, we deal with <code>pncxage</code>: the month prenatal care began stratified by maternal age.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="mch-report.html#cb24-1" tabindex="-1"></a>age <span class="ot">&lt;-</span> pncxage <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="mch-report.html#cb24-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">&quot;19 and under&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="st">`</span><span class="at">14</span><span class="st">`</span>, <span class="st">`</span><span class="at">15</span><span class="st">`</span>, <span class="st">`</span><span class="at">16</span><span class="st">`</span>, <span class="st">`</span><span class="at">17</span><span class="st">`</span>, <span class="st">`</span><span class="at">18</span><span class="st">`</span>, <span class="st">`</span><span class="at">19</span><span class="st">`</span>)),</span>
<span id="cb24-3"><a href="mch-report.html#cb24-3" tabindex="-1"></a>         <span class="st">&quot;20 through 24&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="st">`</span><span class="at">20</span><span class="st">`</span>, <span class="st">`</span><span class="at">21</span><span class="st">`</span>, <span class="st">`</span><span class="at">22</span><span class="st">`</span>, <span class="st">`</span><span class="at">23</span><span class="st">`</span>, <span class="st">`</span><span class="at">24</span><span class="st">`</span>)),</span>
<span id="cb24-4"><a href="mch-report.html#cb24-4" tabindex="-1"></a>         <span class="at">.before =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-5"><a href="mch-report.html#cb24-5" tabindex="-1"></a>  <span class="fu">sesh_transpose</span>(<span class="st">&quot;Age&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-6"><a href="mch-report.html#cb24-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">&quot;Early&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="st">`</span><span class="at">First</span><span class="st">`</span>, <span class="st">`</span><span class="at">Second</span><span class="st">`</span>, <span class="st">`</span><span class="at">Third</span><span class="st">`</span>)),</span>
<span id="cb24-7"><a href="mch-report.html#cb24-7" tabindex="-1"></a>         <span class="st">&quot;Not Early&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="st">`</span><span class="at">Fourth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Fifth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Sixth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Seventh</span><span class="st">`</span>, <span class="st">`</span><span class="at">Eighth</span><span class="st">`</span>,</span>
<span id="cb24-8"><a href="mch-report.html#cb24-8" tabindex="-1"></a>                                      <span class="st">`</span><span class="at">Ninth</span><span class="st">`</span>, <span class="st">`</span><span class="at">None</span><span class="st">`</span>)),</span>
<span id="cb24-9"><a href="mch-report.html#cb24-9" tabindex="-1"></a>         <span class="at">.before =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-10"><a href="mch-report.html#cb24-10" tabindex="-1"></a>  <span class="fu">select</span>(Age, Early, <span class="st">`</span><span class="at">Not Early</span><span class="st">`</span>, <span class="st">`</span><span class="at">Not Stated</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-11"><a href="mch-report.html#cb24-11" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">14</span><span class="sc">:</span><span class="dv">19</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-12"><a href="mch-report.html#cb24-12" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">&quot;Total&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric))),</span>
<span id="cb24-13"><a href="mch-report.html#cb24-13" tabindex="-1"></a>         <span class="st">&quot;Risk&quot;</span> <span class="ot">=</span> Early<span class="sc">/</span>Total)</span></code></pre></div>
<p>This block of code performs the following tasks:</p>
<ol style="list-style-type: decimal">
<li><em>Mutate</em> (create) a column for births where the mother was 19 years old or under by summing the counts for age 14-19 and a column for births where the mother was 20 through 24 by summing those counts.</li>
<li>Transpose the dataset again, so maternal age is now on the y-axis and month prenatal care began is on the x-axis.</li>
<li><em>Mutate</em> (create) a column for early prenatal care (initiated in the first trimester) and a column for not early (initiated after the first trimester or not initiated), summing the respective month columns.</li>
<li><em>Select</em> just the maternal age, early and not early counts, and not stated columns, removing the columns with individual months when prenatal care was initiated.</li>
<li><em>Slice</em> (select by their number) the rows with the age groupings of interest.</li>
<li><em>Mutate</em> (create) a Total and Risk column for early prenatal care initiation.</li>
</ol>
<p>The output of this code is shown below.</p>
<table class=" lightable-material lightable-striped" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Age
</th>
<th style="text-align:right;">
Early
</th>
<th style="text-align:right;">
Not Early
</th>
<th style="text-align:right;">
Not Stated
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
Risk
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
19 and under
</td>
<td style="text-align:right;">
144
</td>
<td style="text-align:right;">
164
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
308
</td>
<td style="text-align:right;">
0.4675325
</td>
</tr>
<tr>
<td style="text-align:left;">
20 through 24
</td>
<td style="text-align:right;">
806
</td>
<td style="text-align:right;">
571
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1387
</td>
<td style="text-align:right;">
0.5811103
</td>
</tr>
<tr>
<td style="text-align:left;">
25 through 29
</td>
<td style="text-align:right;">
2158
</td>
<td style="text-align:right;">
917
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
3085
</td>
<td style="text-align:right;">
0.6995138
</td>
</tr>
<tr>
<td style="text-align:left;">
30 through 34
</td>
<td style="text-align:right;">
3942
</td>
<td style="text-align:right;">
1033
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
4981
</td>
<td style="text-align:right;">
0.7914073
</td>
</tr>
<tr>
<td style="text-align:left;">
35 through 39
</td>
<td style="text-align:right;">
2172
</td>
<td style="text-align:right;">
607
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
2786
</td>
<td style="text-align:right;">
0.7796123
</td>
</tr>
<tr>
<td style="text-align:left;">
40 through 44
</td>
<td style="text-align:right;">
450
</td>
<td style="text-align:right;">
145
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
595
</td>
<td style="text-align:right;">
0.7563025
</td>
</tr>
<tr>
<td style="text-align:left;">
45 or older
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
0.7446809
</td>
</tr>
<tr>
<td style="text-align:left;">
Not Stated
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
</tbody>
</table>
</div>
<div id="prenatal-care-initiation-by-maternal-education" class="section level3 hasAnchor" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> Prenatal care initiation by maternal education<a href="mch-report.html#prenatal-care-initiation-by-maternal-education" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next, we deal with <code>pncxedu</code>. This is performed very similarly to maternal age, but with slightly fewer steps.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="mch-report.html#cb25-1" tabindex="-1"></a>edu <span class="ot">&lt;-</span> pncxedu <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="mch-report.html#cb25-2" tabindex="-1"></a>  <span class="fu">sesh_transpose</span>(<span class="st">&quot;Education&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="mch-report.html#cb25-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">&quot;Early&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="st">`</span><span class="at">First</span><span class="st">`</span>, <span class="st">`</span><span class="at">Second</span><span class="st">`</span>, <span class="st">`</span><span class="at">Third</span><span class="st">`</span>)),</span>
<span id="cb25-4"><a href="mch-report.html#cb25-4" tabindex="-1"></a>         <span class="st">&quot;Not Early&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="st">`</span><span class="at">Fourth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Fifth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Sixth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Seventh</span><span class="st">`</span>, <span class="st">`</span><span class="at">Eighth</span><span class="st">`</span>,</span>
<span id="cb25-5"><a href="mch-report.html#cb25-5" tabindex="-1"></a>                                      <span class="st">`</span><span class="at">Ninth</span><span class="st">`</span>, <span class="st">`</span><span class="at">None</span><span class="st">`</span>)),</span>
<span id="cb25-6"><a href="mch-report.html#cb25-6" tabindex="-1"></a>         <span class="at">.before =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-7"><a href="mch-report.html#cb25-7" tabindex="-1"></a>  <span class="fu">select</span>(Education, Early, <span class="st">`</span><span class="at">Not Early</span><span class="st">`</span>, <span class="st">`</span><span class="at">Not Stated</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-8"><a href="mch-report.html#cb25-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">&quot;Total&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric))),</span>
<span id="cb25-9"><a href="mch-report.html#cb25-9" tabindex="-1"></a>         <span class="st">&quot;Risk&quot;</span> <span class="ot">=</span> Early<span class="sc">/</span>Total)</span></code></pre></div>
<p>For education, we do not need to define new categories for education level and remove extraneous ones, so this function is simpler. The output is shown below:</p>
<table class=" lightable-material lightable-striped" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Education
</th>
<th style="text-align:right;">
Early
</th>
<th style="text-align:right;">
Not Early
</th>
<th style="text-align:right;">
Not Stated
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
Risk
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Less than High School
</td>
<td style="text-align:right;">
582
</td>
<td style="text-align:right;">
547
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1131
</td>
<td style="text-align:right;">
0.5145889
</td>
</tr>
<tr>
<td style="text-align:left;">
High School Graduate or GED
</td>
<td style="text-align:right;">
1019
</td>
<td style="text-align:right;">
701
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
1732
</td>
<td style="text-align:right;">
0.5883372
</td>
</tr>
<tr>
<td style="text-align:left;">
Some College
</td>
<td style="text-align:right;">
1782
</td>
<td style="text-align:right;">
847
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2637
</td>
<td style="text-align:right;">
0.6757679
</td>
</tr>
<tr>
<td style="text-align:left;">
Bachelors Degree
</td>
<td style="text-align:right;">
3581
</td>
<td style="text-align:right;">
804
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
4392
</td>
<td style="text-align:right;">
0.8153461
</td>
</tr>
<tr>
<td style="text-align:left;">
Masters or PhD
</td>
<td style="text-align:right;">
2704
</td>
<td style="text-align:right;">
508
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3216
</td>
<td style="text-align:right;">
0.8407960
</td>
</tr>
<tr>
<td style="text-align:left;">
Unknown
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
43
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
82
</td>
<td style="text-align:right;">
0.4756098
</td>
</tr>
</tbody>
</table>
</div>
<div id="prenatal-care-initiation-by-marital-status" class="section level3 hasAnchor" number="2.4.3">
<h3><span class="header-section-number">2.4.3</span> Prenatal care initiation by marital status<a href="mch-report.html#prenatal-care-initiation-by-marital-status" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next is <code>pncxmarital</code>. Like <code>pncxedu</code>, this is much simpler. Here is the code:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="mch-report.html#cb26-1" tabindex="-1"></a>marital <span class="ot">&lt;-</span> pncxmarital <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="mch-report.html#cb26-2" tabindex="-1"></a>  <span class="fu">sesh_transpose</span>(<span class="st">&quot;Marital Status&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-3"><a href="mch-report.html#cb26-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">&quot;Early&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="st">`</span><span class="at">First</span><span class="st">`</span>, <span class="st">`</span><span class="at">Second</span><span class="st">`</span>, <span class="st">`</span><span class="at">Third</span><span class="st">`</span>)),</span>
<span id="cb26-4"><a href="mch-report.html#cb26-4" tabindex="-1"></a>         <span class="st">&quot;Not Early&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="st">`</span><span class="at">Fourth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Fifth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Sixth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Seventh</span><span class="st">`</span>, <span class="st">`</span><span class="at">Eighth</span><span class="st">`</span>,</span>
<span id="cb26-5"><a href="mch-report.html#cb26-5" tabindex="-1"></a>                                      <span class="st">`</span><span class="at">Ninth</span><span class="st">`</span>, <span class="st">`</span><span class="at">None</span><span class="st">`</span>)),</span>
<span id="cb26-6"><a href="mch-report.html#cb26-6" tabindex="-1"></a>         <span class="at">.before =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-7"><a href="mch-report.html#cb26-7" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">Marital Status</span><span class="st">`</span>, Early, <span class="st">`</span><span class="at">Not Early</span><span class="st">`</span>, <span class="st">`</span><span class="at">Not Stated</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-8"><a href="mch-report.html#cb26-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">&quot;Total&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric))),</span>
<span id="cb26-9"><a href="mch-report.html#cb26-9" tabindex="-1"></a>         <span class="st">&quot;Risk&quot;</span> <span class="ot">=</span> Early<span class="sc">/</span>Total)</span></code></pre></div>
<p>And the output:</p>
<table class=" lightable-material lightable-striped" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Marital Status
</th>
<th style="text-align:right;">
Early
</th>
<th style="text-align:right;">
Not Early
</th>
<th style="text-align:right;">
Not Stated
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
Risk
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Married
</td>
<td style="text-align:right;">
7522
</td>
<td style="text-align:right;">
1917
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
9458
</td>
<td style="text-align:right;">
0.7953056
</td>
</tr>
<tr>
<td style="text-align:left;">
Unmarried
</td>
<td style="text-align:right;">
2185
</td>
<td style="text-align:right;">
1529
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
3728
</td>
<td style="text-align:right;">
0.5861052
</td>
</tr>
<tr>
<td style="text-align:left;">
Not Stated
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
</tbody>
</table>
</div>
<div id="prenatal-care-initiation-by-maternal-race-and-ethnicity" class="section level3 hasAnchor" number="2.4.4">
<h3><span class="header-section-number">2.4.4</span> Prenatal care initiation by maternal race and ethnicity<a href="mch-report.html#prenatal-care-initiation-by-maternal-race-and-ethnicity" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now, we do <code>pncxrace</code>. Here is the code:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="mch-report.html#cb27-1" tabindex="-1"></a>race <span class="ot">&lt;-</span> pncxrace <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="mch-report.html#cb27-2" tabindex="-1"></a>  <span class="fu">sesh_transpose</span>(<span class="st">&quot;Race/Ethnicity&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-3"><a href="mch-report.html#cb27-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">&quot;Early&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="st">`</span><span class="at">First</span><span class="st">`</span>, <span class="st">`</span><span class="at">Second</span><span class="st">`</span>, <span class="st">`</span><span class="at">Third</span><span class="st">`</span>)),</span>
<span id="cb27-4"><a href="mch-report.html#cb27-4" tabindex="-1"></a>         <span class="st">&quot;Not Early&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="st">`</span><span class="at">Fourth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Fifth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Sixth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Seventh</span><span class="st">`</span>, <span class="st">`</span><span class="at">Eighth</span><span class="st">`</span>,</span>
<span id="cb27-5"><a href="mch-report.html#cb27-5" tabindex="-1"></a>                                      <span class="st">`</span><span class="at">Ninth</span><span class="st">`</span>, <span class="st">`</span><span class="at">None</span><span class="st">`</span>)),</span>
<span id="cb27-6"><a href="mch-report.html#cb27-6" tabindex="-1"></a>         <span class="at">.before =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-7"><a href="mch-report.html#cb27-7" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">Race/Ethnicity</span><span class="st">`</span>, Early, <span class="st">`</span><span class="at">Not Early</span><span class="st">`</span>, <span class="st">`</span><span class="at">Not Stated</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-8"><a href="mch-report.html#cb27-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">&quot;Total&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric))),</span>
<span id="cb27-9"><a href="mch-report.html#cb27-9" tabindex="-1"></a>         <span class="st">&quot;Risk&quot;</span> <span class="ot">=</span> Early<span class="sc">/</span>Total)</span></code></pre></div>
<p>And the output:</p>
<table class=" lightable-material lightable-striped" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Race/Ethnicity
</th>
<th style="text-align:right;">
Early
</th>
<th style="text-align:right;">
Not Early
</th>
<th style="text-align:right;">
Not Stated
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
Risk
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
White/Non-Hispanic
</td>
<td style="text-align:right;">
5349
</td>
<td style="text-align:right;">
1118
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
6478
</td>
<td style="text-align:right;">
0.8257178
</td>
</tr>
<tr>
<td style="text-align:left;">
African American/Non-Hispanic
</td>
<td style="text-align:right;">
1634
</td>
<td style="text-align:right;">
980
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2620
</td>
<td style="text-align:right;">
0.6236641
</td>
</tr>
<tr>
<td style="text-align:left;">
Other/Non-Hispanic
</td>
<td style="text-align:right;">
1254
</td>
<td style="text-align:right;">
445
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1704
</td>
<td style="text-align:right;">
0.7359155
</td>
</tr>
<tr>
<td style="text-align:left;">
Hispanic
</td>
<td style="text-align:right;">
1470
</td>
<td style="text-align:right;">
907
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
2388
</td>
<td style="text-align:right;">
0.6155779
</td>
</tr>
</tbody>
</table>
</div>
<div id="birthweight-by-prenatal-care-initiation" class="section level3 hasAnchor" number="2.4.5">
<h3><span class="header-section-number">2.4.5</span> Birthweight by prenatal care initiation<a href="mch-report.html#birthweight-by-prenatal-care-initiation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Last, we do something a bit different: we look at birthweight (in three categories) by prenatal care initiation. Here is the code:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="mch-report.html#cb28-1" tabindex="-1"></a>birthweight <span class="ot">&lt;-</span> pncxbirthweight <span class="sc">%&gt;%</span> </span>
<span id="cb28-2"><a href="mch-report.html#cb28-2" tabindex="-1"></a>  <span class="fu">sesh_transpose</span>(<span class="st">&quot;Birth weight (g)&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="mch-report.html#cb28-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">&quot;Early&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="st">`</span><span class="at">First</span><span class="st">`</span>, <span class="st">`</span><span class="at">Second</span><span class="st">`</span>, <span class="st">`</span><span class="at">Third</span><span class="st">`</span>)),</span>
<span id="cb28-4"><a href="mch-report.html#cb28-4" tabindex="-1"></a>         <span class="st">&quot;Not Early&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="st">`</span><span class="at">Fourth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Fifth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Sixth</span><span class="st">`</span>, <span class="st">`</span><span class="at">Seventh</span><span class="st">`</span>, <span class="st">`</span><span class="at">Eighth</span><span class="st">`</span>,</span>
<span id="cb28-5"><a href="mch-report.html#cb28-5" tabindex="-1"></a>                                      <span class="st">`</span><span class="at">Ninth</span><span class="st">`</span>, <span class="st">`</span><span class="at">None</span><span class="st">`</span>)),</span>
<span id="cb28-6"><a href="mch-report.html#cb28-6" tabindex="-1"></a>         <span class="at">.before =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-7"><a href="mch-report.html#cb28-7" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">Birth weight (g)</span><span class="st">`</span>, Early, <span class="st">`</span><span class="at">Not Early</span><span class="st">`</span>, <span class="st">`</span><span class="at">Not Stated</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-8"><a href="mch-report.html#cb28-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">&quot;Total&quot;</span> <span class="ot">=</span> <span class="fu">rowSums</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric))),</span>
<span id="cb28-9"><a href="mch-report.html#cb28-9" tabindex="-1"></a>         <span class="st">&quot;Early&quot;</span> <span class="ot">=</span> Early<span class="sc">/</span>Total,</span>
<span id="cb28-10"><a href="mch-report.html#cb28-10" tabindex="-1"></a>         <span class="st">&quot;Not Early&quot;</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Not Early</span><span class="st">`</span><span class="sc">/</span>Total,</span>
<span id="cb28-11"><a href="mch-report.html#cb28-11" tabindex="-1"></a>         <span class="st">&quot;Not Stated&quot;</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Not Stated</span><span class="st">`</span><span class="sc">/</span>Total) <span class="sc">%&gt;%</span> </span>
<span id="cb28-12"><a href="mch-report.html#cb28-12" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>Total) <span class="sc">%&gt;%</span> </span>
<span id="cb28-13"><a href="mch-report.html#cb28-13" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb28-14"><a href="mch-report.html#cb28-14" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">where</span>(is.numeric),</span>
<span id="cb28-15"><a href="mch-report.html#cb28-15" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;Prenatal Care&quot;</span>,</span>
<span id="cb28-16"><a href="mch-report.html#cb28-16" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;Values&quot;</span></span>
<span id="cb28-17"><a href="mch-report.html#cb28-17" tabindex="-1"></a>  )</span></code></pre></div>
<p>Here is the output:</p>
<table class=" lightable-material lightable-striped" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Birth weight (g)
</th>
<th style="text-align:left;">
Prenatal Care
</th>
<th style="text-align:right;">
Values
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
&lt;1500
</td>
<td style="text-align:left;">
Early
</td>
<td style="text-align:right;">
0.7555556
</td>
</tr>
<tr>
<td style="text-align:left;">
&lt;1500
</td>
<td style="text-align:left;">
Not Early
</td>
<td style="text-align:right;">
0.2444444
</td>
</tr>
<tr>
<td style="text-align:left;">
&lt;1500
</td>
<td style="text-align:left;">
Not Stated
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
1500-2499
</td>
<td style="text-align:left;">
Early
</td>
<td style="text-align:right;">
0.6747685
</td>
</tr>
<tr>
<td style="text-align:left;">
1500-2499
</td>
<td style="text-align:left;">
Not Early
</td>
<td style="text-align:right;">
0.3194444
</td>
</tr>
<tr>
<td style="text-align:left;">
1500-2499
</td>
<td style="text-align:left;">
Not Stated
</td>
<td style="text-align:right;">
0.0057870
</td>
</tr>
<tr>
<td style="text-align:left;">
&gt;=2500
</td>
<td style="text-align:left;">
Early
</td>
<td style="text-align:right;">
0.7401977
</td>
</tr>
<tr>
<td style="text-align:left;">
&gt;=2500
</td>
<td style="text-align:left;">
Not Early
</td>
<td style="text-align:right;">
0.2574959
</td>
</tr>
<tr>
<td style="text-align:left;">
&gt;=2500
</td>
<td style="text-align:left;">
Not Stated
</td>
<td style="text-align:right;">
0.0023064
</td>
</tr>
<tr>
<td style="text-align:left;">
Unknown
</td>
<td style="text-align:left;">
Early
</td>
<td style="text-align:right;">
0.3333333
</td>
</tr>
<tr>
<td style="text-align:left;">
Unknown
</td>
<td style="text-align:left;">
Not Early
</td>
<td style="text-align:right;">
0.6666667
</td>
</tr>
<tr>
<td style="text-align:left;">
Unknown
</td>
<td style="text-align:left;">
Not Stated
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
</tbody>
</table>
<p>This table appears different because it was <em>pivoted</em>: the prenatal care column names were turned into values of a new <code>Prenatal care</code> column, and the table was given more rows to accommodate the switch. This is useful for the specific kind of graph (a stacked bar graph) we will make with the birthweight data in a moment.</p>
</div>
</div>
<div id="exporting-data" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Exporting data<a href="mch-report.html#exporting-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>These datasets are then exported to .csv files.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="mch-report.html#cb29-1" tabindex="-1"></a><span class="do">## save tables</span></span>
<span id="cb29-2"><a href="mch-report.html#cb29-2" tabindex="-1"></a><span class="fu">write_csv</span>(age, <span class="st">&quot;Tables/age.csv&quot;</span>)</span>
<span id="cb29-3"><a href="mch-report.html#cb29-3" tabindex="-1"></a><span class="fu">write_csv</span>(edu, <span class="st">&quot;Tables/edu.csv&quot;</span>)</span>
<span id="cb29-4"><a href="mch-report.html#cb29-4" tabindex="-1"></a><span class="fu">write_csv</span>(marital, <span class="st">&quot;Tables/marital.csv&quot;</span>)</span>
<span id="cb29-5"><a href="mch-report.html#cb29-5" tabindex="-1"></a><span class="fu">write_csv</span>(race, <span class="st">&quot;Tables/race.csv&quot;</span>)</span>
<span id="cb29-6"><a href="mch-report.html#cb29-6" tabindex="-1"></a><span class="fu">write_csv</span>(birthweight, <span class="st">&quot;Tables/birthweight.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="graphing-data" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> Graphing data<a href="mch-report.html#graphing-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now, we move on to graphing. These tasks are done in <code>bar-graphs.Rmd</code>. We want to produce five graphs:</p>
<ol style="list-style-type: decimal">
<li>Four bar graphs showing the percent of people initiating prenatal care in the first trimester at each age group, education level, marital status, and race/ethnicity group.</li>
<li>One stacked bar graph showing the percent of births in each birthweight class receiving early prenatal care, non-early prenatal care, or not stated.</li>
</ol>
<div id="prenatal-care-initiation-by-maternal-age-1" class="section level3 hasAnchor" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> Prenatal care initiation by maternal age<a href="mch-report.html#prenatal-care-initiation-by-maternal-age-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="mch-report.html#cb30-1" tabindex="-1"></a><span class="co"># Read the age.csv dataset</span></span>
<span id="cb30-2"><a href="mch-report.html#cb30-2" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;Tables/age.csv&quot;</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb30-3"><a href="mch-report.html#cb30-3" tabindex="-1"></a>  </span>
<span id="cb30-4"><a href="mch-report.html#cb30-4" tabindex="-1"></a>  <span class="co"># Add a Risk column for the percent in each age group receiving early care</span></span>
<span id="cb30-5"><a href="mch-report.html#cb30-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Risk =</span> <span class="fu">round</span>(Risk <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb30-6"><a href="mch-report.html#cb30-6" tabindex="-1"></a>  </span>
<span id="cb30-7"><a href="mch-report.html#cb30-7" tabindex="-1"></a>  <span class="co"># Initiate the graph, with Age on the x-axis and determining the bar color and Risk on the y-axis</span></span>
<span id="cb30-8"><a href="mch-report.html#cb30-8" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Age, <span class="at">y =</span> Risk, <span class="at">fill =</span> Age)) <span class="sc">+</span></span>
<span id="cb30-9"><a href="mch-report.html#cb30-9" tabindex="-1"></a>  </span>
<span id="cb30-10"><a href="mch-report.html#cb30-10" tabindex="-1"></a>  <span class="co"># Make a column (bar) graph and add a black outline to the bars</span></span>
<span id="cb30-11"><a href="mch-report.html#cb30-11" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb30-12"><a href="mch-report.html#cb30-12" tabindex="-1"></a>  </span>
<span id="cb30-13"><a href="mch-report.html#cb30-13" tabindex="-1"></a>  <span class="co"># Add percent labels</span></span>
<span id="cb30-14"><a href="mch-report.html#cb30-14" tabindex="-1"></a>  <span class="fu">geom_label</span>(</span>
<span id="cb30-15"><a href="mch-report.html#cb30-15" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(Risk, <span class="st">&quot;%&quot;</span>)), <span class="co"># Add percent to the end of the numeric value</span></span>
<span id="cb30-16"><a href="mch-report.html#cb30-16" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>                    <span class="co"># Center the label</span></span>
<span id="cb30-17"><a href="mch-report.html#cb30-17" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb30-18"><a href="mch-report.html#cb30-18" tabindex="-1"></a>  </span>
<span id="cb30-19"><a href="mch-report.html#cb30-19" tabindex="-1"></a>  <span class="co"># Change the y-axis label</span></span>
<span id="cb30-20"><a href="mch-report.html#cb30-20" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Percent receiving early prenatal care&quot;</span>) <span class="sc">+</span></span>
<span id="cb30-21"><a href="mch-report.html#cb30-21" tabindex="-1"></a>  </span>
<span id="cb30-22"><a href="mch-report.html#cb30-22" tabindex="-1"></a>  <span class="co"># Change the y-axis scale limits</span></span>
<span id="cb30-23"><a href="mch-report.html#cb30-23" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">100</span>) <span class="sc">+</span></span>
<span id="cb30-24"><a href="mch-report.html#cb30-24" tabindex="-1"></a>  </span>
<span id="cb30-25"><a href="mch-report.html#cb30-25" tabindex="-1"></a>  <span class="co"># Set the color scheme (use RColorBrewer color set 3)</span></span>
<span id="cb30-26"><a href="mch-report.html#cb30-26" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set3&quot;</span>) <span class="sc">+</span></span>
<span id="cb30-27"><a href="mch-report.html#cb30-27" tabindex="-1"></a>  </span>
<span id="cb30-28"><a href="mch-report.html#cb30-28" tabindex="-1"></a>  <span class="co"># Set the overall ggplot theme</span></span>
<span id="cb30-29"><a href="mch-report.html#cb30-29" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb30-30"><a href="mch-report.html#cb30-30" tabindex="-1"></a>  </span>
<span id="cb30-31"><a href="mch-report.html#cb30-31" tabindex="-1"></a>  <span class="co"># Set the plot title</span></span>
<span id="cb30-32"><a href="mch-report.html#cb30-32" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Prenatal Care in First Trimester by Age Group, 2022&quot;</span>) <span class="sc">+</span></span>
<span id="cb30-33"><a href="mch-report.html#cb30-33" tabindex="-1"></a>  </span>
<span id="cb30-34"><a href="mch-report.html#cb30-34" tabindex="-1"></a>  <span class="co"># Set specific theme elements</span></span>
<span id="cb30-35"><a href="mch-report.html#cb30-35" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">1</span>), <span class="co"># Tilt the x-axis labels</span></span>
<span id="cb30-36"><a href="mch-report.html#cb30-36" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span>                     <span class="co"># Center the plot title</span></span>
<span id="cb30-37"><a href="mch-report.html#cb30-37" tabindex="-1"></a>  </span>
<span id="cb30-38"><a href="mch-report.html#cb30-38" tabindex="-1"></a>  <span class="co"># Remove the legend</span></span>
<span id="cb30-39"><a href="mch-report.html#cb30-39" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/Age-1.png" width="672" /></p>
<p>See the code comments explaining this code above for details. The following three graphs are similar, so there are no code comments included with them.</p>
</div>
<div id="prenatal-care-initiation-by-maternal-education-1" class="section level3 hasAnchor" number="2.6.2">
<h3><span class="header-section-number">2.6.2</span> Prenatal care initiation by maternal education<a href="mch-report.html#prenatal-care-initiation-by-maternal-education-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="mch-report.html#cb31-1" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;Tables/edu.csv&quot;</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="mch-report.html#cb31-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Risk =</span> <span class="fu">round</span>(Risk <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb31-3"><a href="mch-report.html#cb31-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Education =</span> <span class="fu">factor</span>(</span>
<span id="cb31-4"><a href="mch-report.html#cb31-4" tabindex="-1"></a>    .<span class="sc">$</span>Education,</span>
<span id="cb31-5"><a href="mch-report.html#cb31-5" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Less than High School&quot;</span>, <span class="st">&quot;High School Graduate or GED&quot;</span>,</span>
<span id="cb31-6"><a href="mch-report.html#cb31-6" tabindex="-1"></a>               <span class="st">&quot;Some College&quot;</span>, <span class="st">&quot;Bachelors Degree&quot;</span>, <span class="st">&quot;Masters or PhD&quot;</span>,</span>
<span id="cb31-7"><a href="mch-report.html#cb31-7" tabindex="-1"></a>               <span class="st">&quot;Unknown&quot;</span>)</span>
<span id="cb31-8"><a href="mch-report.html#cb31-8" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span> </span>
<span id="cb31-9"><a href="mch-report.html#cb31-9" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Education, <span class="at">y =</span> Risk, <span class="at">fill =</span> Education)) <span class="sc">+</span></span>
<span id="cb31-10"><a href="mch-report.html#cb31-10" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb31-11"><a href="mch-report.html#cb31-11" tabindex="-1"></a>  <span class="fu">geom_label</span>(</span>
<span id="cb31-12"><a href="mch-report.html#cb31-12" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(Risk, <span class="st">&quot;%&quot;</span>)),</span>
<span id="cb31-13"><a href="mch-report.html#cb31-13" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span></span>
<span id="cb31-14"><a href="mch-report.html#cb31-14" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb31-15"><a href="mch-report.html#cb31-15" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Percent receiving early prenatal care&quot;</span>) <span class="sc">+</span></span>
<span id="cb31-16"><a href="mch-report.html#cb31-16" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">100</span>) <span class="sc">+</span></span>
<span id="cb31-17"><a href="mch-report.html#cb31-17" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set3&quot;</span>) <span class="sc">+</span></span>
<span id="cb31-18"><a href="mch-report.html#cb31-18" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb31-19"><a href="mch-report.html#cb31-19" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Prenatal Care in First Trimester by Education Level, 2022&quot;</span>) <span class="sc">+</span></span>
<span id="cb31-20"><a href="mch-report.html#cb31-20" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">1</span>),</span>
<span id="cb31-21"><a href="mch-report.html#cb31-21" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb31-22"><a href="mch-report.html#cb31-22" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/Education-1.png" width="672" /></p>
<p>Note one addition here: the Education variable is created as a factor, which allows the x-axis to be ordered logically. If the education variable were a character vector instead of a factor, the education levels would be alphabetized.</p>
</div>
<div id="prenatal-care-initiation-by-marital-status-1" class="section level3 hasAnchor" number="2.6.3">
<h3><span class="header-section-number">2.6.3</span> Prenatal care initiation by marital status<a href="mch-report.html#prenatal-care-initiation-by-marital-status-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="mch-report.html#cb32-1" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;Tables/marital.csv&quot;</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="mch-report.html#cb32-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Risk =</span> <span class="fu">round</span>(Risk <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb32-3"><a href="mch-report.html#cb32-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Marital Status</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">factor</span>(.<span class="sc">$</span><span class="st">`</span><span class="at">Marital Status</span><span class="st">`</span>,</span>
<span id="cb32-4"><a href="mch-report.html#cb32-4" tabindex="-1"></a>                                   <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Married&quot;</span>, <span class="st">&quot;Unmarried&quot;</span>, <span class="st">&quot;Not Stated&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb32-5"><a href="mch-report.html#cb32-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Marital Status</span><span class="st">`</span>, <span class="at">y =</span> Risk, <span class="at">fill =</span> <span class="st">`</span><span class="at">Marital Status</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb32-6"><a href="mch-report.html#cb32-6" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb32-7"><a href="mch-report.html#cb32-7" tabindex="-1"></a>  <span class="fu">geom_label</span>(</span>
<span id="cb32-8"><a href="mch-report.html#cb32-8" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(Risk, <span class="st">&quot;%&quot;</span>)),</span>
<span id="cb32-9"><a href="mch-report.html#cb32-9" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span></span>
<span id="cb32-10"><a href="mch-report.html#cb32-10" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb32-11"><a href="mch-report.html#cb32-11" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Percent receiving early prenatal care&quot;</span>) <span class="sc">+</span></span>
<span id="cb32-12"><a href="mch-report.html#cb32-12" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">100</span>) <span class="sc">+</span></span>
<span id="cb32-13"><a href="mch-report.html#cb32-13" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set3&quot;</span>) <span class="sc">+</span></span>
<span id="cb32-14"><a href="mch-report.html#cb32-14" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb32-15"><a href="mch-report.html#cb32-15" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Prenatal Care in First Trimester by Marital Status, 2022&quot;</span>) <span class="sc">+</span></span>
<span id="cb32-16"><a href="mch-report.html#cb32-16" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">1</span>),</span>
<span id="cb32-17"><a href="mch-report.html#cb32-17" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb32-18"><a href="mch-report.html#cb32-18" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/Marital-1.png" width="672" /></p>
<p>As with education status, marital status is changed to a factor so the x-axis is properly ordered.</p>
</div>
<div id="prenatal-care-initiation-by-race-and-ethnicity" class="section level3 hasAnchor" number="2.6.4">
<h3><span class="header-section-number">2.6.4</span> Prenatal care initiation by race and ethnicity<a href="mch-report.html#prenatal-care-initiation-by-race-and-ethnicity" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="mch-report.html#cb33-1" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;Tables/race.csv&quot;</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="mch-report.html#cb33-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Risk =</span> <span class="fu">round</span>(Risk <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb33-3"><a href="mch-report.html#cb33-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Race/Ethnicity</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">factor</span>(</span>
<span id="cb33-4"><a href="mch-report.html#cb33-4" tabindex="-1"></a>    .<span class="sc">$</span><span class="st">`</span><span class="at">Race/Ethnicity</span><span class="st">`</span>,</span>
<span id="cb33-5"><a href="mch-report.html#cb33-5" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;White/Non-Hispanic&quot;</span>, <span class="st">&quot;Other/Non-Hispanic&quot;</span>, <span class="st">&quot;African American/Non-Hispanic&quot;</span>,</span>
<span id="cb33-6"><a href="mch-report.html#cb33-6" tabindex="-1"></a>               <span class="st">&quot;Hispanic&quot;</span>)</span>
<span id="cb33-7"><a href="mch-report.html#cb33-7" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span> </span>
<span id="cb33-8"><a href="mch-report.html#cb33-8" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Race/Ethnicity</span><span class="st">`</span>, <span class="at">y =</span> Risk, <span class="at">fill =</span> <span class="st">`</span><span class="at">Race/Ethnicity</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb33-9"><a href="mch-report.html#cb33-9" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb33-10"><a href="mch-report.html#cb33-10" tabindex="-1"></a>  <span class="fu">geom_label</span>(</span>
<span id="cb33-11"><a href="mch-report.html#cb33-11" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(Risk, <span class="st">&quot;%&quot;</span>)),</span>
<span id="cb33-12"><a href="mch-report.html#cb33-12" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span></span>
<span id="cb33-13"><a href="mch-report.html#cb33-13" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb33-14"><a href="mch-report.html#cb33-14" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Percent receiving early prenatal care&quot;</span>) <span class="sc">+</span></span>
<span id="cb33-15"><a href="mch-report.html#cb33-15" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">100</span>) <span class="sc">+</span></span>
<span id="cb33-16"><a href="mch-report.html#cb33-16" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set3&quot;</span>) <span class="sc">+</span></span>
<span id="cb33-17"><a href="mch-report.html#cb33-17" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb33-18"><a href="mch-report.html#cb33-18" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Prenatal Care in First Trimester by Race/Ethnicity, 2022&quot;</span>) <span class="sc">+</span></span>
<span id="cb33-19"><a href="mch-report.html#cb33-19" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">1</span>),</span>
<span id="cb33-20"><a href="mch-report.html#cb33-20" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb33-21"><a href="mch-report.html#cb33-21" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/Race-1.png" width="672" /></p>
<p>Once again, race/ethnicity is changed to a factor to preserve a logical x-axis: in this case, the order was chosen to show groups from highest early prenatal care uptake to lowest.</p>
</div>
<div id="birthweight-by-prenatal-care-initiation-1" class="section level3 hasAnchor" number="2.6.5">
<h3><span class="header-section-number">2.6.5</span> Birthweight by prenatal care initiation<a href="mch-report.html#birthweight-by-prenatal-care-initiation-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For the final graph, we create a stacked bar graph. This is more useful in this case, because we can more easily show the effect of prenatal care initiation on birthweight.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="mch-report.html#cb34-1" tabindex="-1"></a><span class="co"># Read the birthweight.csv dataset</span></span>
<span id="cb34-2"><a href="mch-report.html#cb34-2" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;Tables/birthweight.csv&quot;</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb34-3"><a href="mch-report.html#cb34-3" tabindex="-1"></a>  </span>
<span id="cb34-4"><a href="mch-report.html#cb34-4" tabindex="-1"></a>  <span class="co"># Multiply the risks by 100 (to create percents) and round to the tenths place.</span></span>
<span id="cb34-5"><a href="mch-report.html#cb34-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Values =</span> <span class="fu">round</span>(Values <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb34-6"><a href="mch-report.html#cb34-6" tabindex="-1"></a>  </span>
<span id="cb34-7"><a href="mch-report.html#cb34-7" tabindex="-1"></a>  <span class="co"># Change the birthweight variable to an ordered factor</span></span>
<span id="cb34-8"><a href="mch-report.html#cb34-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Birth weight (g)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">factor</span>(</span>
<span id="cb34-9"><a href="mch-report.html#cb34-9" tabindex="-1"></a>    .<span class="sc">$</span><span class="st">`</span><span class="at">Birth weight (g)</span><span class="st">`</span>,</span>
<span id="cb34-10"><a href="mch-report.html#cb34-10" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;&lt;1500&quot;</span>, <span class="st">&quot;1500-2499&quot;</span>, <span class="st">&quot;&gt;=2500&quot;</span>, <span class="st">&quot;Unknown&quot;</span>)</span>
<span id="cb34-11"><a href="mch-report.html#cb34-11" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span> </span>
<span id="cb34-12"><a href="mch-report.html#cb34-12" tabindex="-1"></a>  </span>
<span id="cb34-13"><a href="mch-report.html#cb34-13" tabindex="-1"></a>  <span class="co"># Initiate the graph, with birthweight on the x-axis and percent on the y-axis</span></span>
<span id="cb34-14"><a href="mch-report.html#cb34-14" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Birth weight (g)</span><span class="st">`</span>, <span class="at">y =</span> Values, <span class="at">fill =</span> <span class="st">`</span><span class="at">Prenatal Care</span><span class="st">`</span>)) <span class="sc">+</span> </span>
<span id="cb34-15"><a href="mch-report.html#cb34-15" tabindex="-1"></a>  </span>
<span id="cb34-16"><a href="mch-report.html#cb34-16" tabindex="-1"></a>  <span class="co"># Create a column (bar) graph</span></span>
<span id="cb34-17"><a href="mch-report.html#cb34-17" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb34-18"><a href="mch-report.html#cb34-18" tabindex="-1"></a>  </span>
<span id="cb34-19"><a href="mch-report.html#cb34-19" tabindex="-1"></a>  <span class="co"># Add percent labels</span></span>
<span id="cb34-20"><a href="mch-report.html#cb34-20" tabindex="-1"></a>  <span class="fu">geom_label</span>(</span>
<span id="cb34-21"><a href="mch-report.html#cb34-21" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(Values, <span class="st">&quot;%&quot;</span>)),       <span class="co"># Add percent to the end of the numeric value</span></span>
<span id="cb34-22"><a href="mch-report.html#cb34-22" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), <span class="co"># Center the labels and stack them like the bars</span></span>
<span id="cb34-23"><a href="mch-report.html#cb34-23" tabindex="-1"></a>    <span class="at">show.legend =</span> <span class="cn">FALSE</span>                     <span class="co"># Remove the labels from the legend</span></span>
<span id="cb34-24"><a href="mch-report.html#cb34-24" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb34-25"><a href="mch-report.html#cb34-25" tabindex="-1"></a>  </span>
<span id="cb34-26"><a href="mch-report.html#cb34-26" tabindex="-1"></a>  <span class="co"># Set the y-axis label</span></span>
<span id="cb34-27"><a href="mch-report.html#cb34-27" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Percent&quot;</span>) <span class="sc">+</span></span>
<span id="cb34-28"><a href="mch-report.html#cb34-28" tabindex="-1"></a>  </span>
<span id="cb34-29"><a href="mch-report.html#cb34-29" tabindex="-1"></a>  <span class="co"># Set the y-axis limits</span></span>
<span id="cb34-30"><a href="mch-report.html#cb34-30" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">100</span>) <span class="sc">+</span></span>
<span id="cb34-31"><a href="mch-report.html#cb34-31" tabindex="-1"></a>  </span>
<span id="cb34-32"><a href="mch-report.html#cb34-32" tabindex="-1"></a>  <span class="co"># Set the color scheme (to RColorBrewer&#39;s color set 3)</span></span>
<span id="cb34-33"><a href="mch-report.html#cb34-33" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set3&quot;</span>) <span class="sc">+</span></span>
<span id="cb34-34"><a href="mch-report.html#cb34-34" tabindex="-1"></a>  </span>
<span id="cb34-35"><a href="mch-report.html#cb34-35" tabindex="-1"></a>  <span class="co"># Set the ggplot theme</span></span>
<span id="cb34-36"><a href="mch-report.html#cb34-36" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb34-37"><a href="mch-report.html#cb34-37" tabindex="-1"></a>  </span>
<span id="cb34-38"><a href="mch-report.html#cb34-38" tabindex="-1"></a>  <span class="co"># Set the plot title</span></span>
<span id="cb34-39"><a href="mch-report.html#cb34-39" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Prenatal Care in First Trimester by Birth Weight, 2022&quot;</span>) <span class="sc">+</span></span>
<span id="cb34-40"><a href="mch-report.html#cb34-40" tabindex="-1"></a>  </span>
<span id="cb34-41"><a href="mch-report.html#cb34-41" tabindex="-1"></a>  <span class="co"># Change theme settings</span></span>
<span id="cb34-42"><a href="mch-report.html#cb34-42" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">1</span>), <span class="co"># Angle the x-axis labels</span></span>
<span id="cb34-43"><a href="mch-report.html#cb34-43" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),                       <span class="co"># Center the plot title</span></span>
<span id="cb34-44"><a href="mch-report.html#cb34-44" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">&quot;right&quot;</span>)                                    <span class="co"># Position the legend</span></span></code></pre></div>
<p><img src="_main_files/figure-html/Birthweight-1.png" width="672" /></p>
<p>See the code comments explaining this code above for details.</p>
</div>
</div>
<div id="calculating-risk-ratios-for-early-prenatal-care" class="section level2 hasAnchor" number="2.7">
<h2><span class="header-section-number">2.7</span> Calculating risk ratios for early prenatal care<a href="mch-report.html#calculating-risk-ratios-for-early-prenatal-care" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section, we generate tables that show risk ratios for each category graphed above. The ratios calculated here say how many times as likely a member of each group was to obtain early prenatal care (initiated in the first trimester) compared to the group overall.</p>
<p>First, we need to load some additional libraries:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="mch-report.html#cb35-1" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(knitr))</span>
<span id="cb35-2"><a href="mch-report.html#cb35-2" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(kableExtra))</span></code></pre></div>
<ol style="list-style-type: decimal">
<li><code>knitr</code> is used to “knit” (render) RMarkdown files. In addition to <code>bar-graphs.Rmd</code>, this presentation was generated with <code>knitr</code>.</li>
<li><code>kableExtra</code> is used to style tables generated with <code>kable()</code>, which is a function from <code>knitr</code>. The tables in the sections above were kables styled with <code>kableExtra</code>.</li>
</ol>
<div id="risk-of-prenatal-care-initiation-by-maternal-age" class="section level3 hasAnchor" number="2.7.1">
<h3><span class="header-section-number">2.7.1</span> Risk of prenatal care initiation by maternal age<a href="mch-report.html#risk-of-prenatal-care-initiation-by-maternal-age" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We need to calculate a risk ratio here. As a reminder, risk ratios are calculated as <span class="math inline">\(\frac{a/(a+b)}{c/(c+d)}\)</span>, where:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(a\)</span> are those with the outcome who were exposed.</li>
<li><span class="math inline">\(b\)</span> are those <em>without</em> the outcome who were exposed.</li>
<li><span class="math inline">\(c\)</span> are those with the outcome who were <em>not</em> exposed.</li>
<li><span class="math inline">\(d\)</span> are those <em>without</em> the outcome who were <em>not</em> exposed.</li>
</ol>
<p>In this case, we will calculate the risk of each category over the overall population’s risk for the risk ratio. The following code demonstrates how this is done:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="mch-report.html#cb36-1" tabindex="-1"></a><span class="co"># Read the age.csv dataset</span></span>
<span id="cb36-2"><a href="mch-report.html#cb36-2" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;Tables/age.csv&quot;</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb36-3"><a href="mch-report.html#cb36-3" tabindex="-1"></a>  </span>
<span id="cb36-4"><a href="mch-report.html#cb36-4" tabindex="-1"></a>  <span class="co"># Remove the existing Risk column</span></span>
<span id="cb36-5"><a href="mch-report.html#cb36-5" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>Risk) <span class="sc">%&gt;%</span> </span>
<span id="cb36-6"><a href="mch-report.html#cb36-6" tabindex="-1"></a>  </span>
<span id="cb36-7"><a href="mch-report.html#cb36-7" tabindex="-1"></a>  <span class="co"># Generate a totals row which sums all births with early care, no early care, and not stated</span></span>
<span id="cb36-8"><a href="mch-report.html#cb36-8" tabindex="-1"></a>  <span class="fu">bind_rows</span>(</span>
<span id="cb36-9"><a href="mch-report.html#cb36-9" tabindex="-1"></a>    <span class="fu">summarise_all</span>(., <span class="sc">~</span><span class="cf">if</span>(<span class="fu">is.numeric</span>(.)) <span class="fu">sum</span>(.) <span class="cf">else</span> <span class="st">&quot;Total&quot;</span>)</span>
<span id="cb36-10"><a href="mch-report.html#cb36-10" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb36-11"><a href="mch-report.html#cb36-11" tabindex="-1"></a>  </span>
<span id="cb36-12"><a href="mch-report.html#cb36-12" tabindex="-1"></a>  <span class="co"># Calculate risk again</span></span>
<span id="cb36-13"><a href="mch-report.html#cb36-13" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb36-14"><a href="mch-report.html#cb36-14" tabindex="-1"></a>    <span class="st">&quot;Risk&quot;</span> <span class="ot">=</span> Early <span class="sc">/</span> Total</span>
<span id="cb36-15"><a href="mch-report.html#cb36-15" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb36-16"><a href="mch-report.html#cb36-16" tabindex="-1"></a>  </span>
<span id="cb36-17"><a href="mch-report.html#cb36-17" tabindex="-1"></a>  <span class="co"># Calculate a risk ratio by dividing each row&#39;s risk by the risk in the Total row</span></span>
<span id="cb36-18"><a href="mch-report.html#cb36-18" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb36-19"><a href="mch-report.html#cb36-19" tabindex="-1"></a>    <span class="st">&quot;RR&quot;</span> <span class="ot">=</span> Risk <span class="sc">/</span> <span class="fu">filter</span>(., Age <span class="sc">==</span> <span class="st">&quot;Total&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Risk)</span>
<span id="cb36-20"><a href="mch-report.html#cb36-20" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb36-21"><a href="mch-report.html#cb36-21" tabindex="-1"></a>  </span>
<span id="cb36-22"><a href="mch-report.html#cb36-22" tabindex="-1"></a>  <span class="co"># Select only the needed columns</span></span>
<span id="cb36-23"><a href="mch-report.html#cb36-23" tabindex="-1"></a>  <span class="fu">select</span>(Age, Total, RR) <span class="sc">%&gt;%</span> </span>
<span id="cb36-24"><a href="mch-report.html#cb36-24" tabindex="-1"></a>  </span>
<span id="cb36-25"><a href="mch-report.html#cb36-25" tabindex="-1"></a>  <span class="co"># Generate a table</span></span>
<span id="cb36-26"><a href="mch-report.html#cb36-26" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">&quot;html&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb36-27"><a href="mch-report.html#cb36-27" tabindex="-1"></a>  <span class="fu">kable_material</span>(<span class="st">&quot;striped&quot;</span>)</span></code></pre></div>
<table class=" lightable-material lightable-striped" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Age
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
RR
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
19 and under
</td>
<td style="text-align:right;">
308
</td>
<td style="text-align:right;">
0.6352893
</td>
</tr>
<tr>
<td style="text-align:left;">
20 through 24
</td>
<td style="text-align:right;">
1387
</td>
<td style="text-align:right;">
0.7896204
</td>
</tr>
<tr>
<td style="text-align:left;">
25 through 29
</td>
<td style="text-align:right;">
3085
</td>
<td style="text-align:right;">
0.9505086
</td>
</tr>
<tr>
<td style="text-align:left;">
30 through 34
</td>
<td style="text-align:right;">
4981
</td>
<td style="text-align:right;">
1.0753748
</td>
</tr>
<tr>
<td style="text-align:left;">
35 through 39
</td>
<td style="text-align:right;">
2786
</td>
<td style="text-align:right;">
1.0593476
</td>
</tr>
<tr>
<td style="text-align:left;">
40 through 44
</td>
<td style="text-align:right;">
595
</td>
<td style="text-align:right;">
1.0276739
</td>
</tr>
<tr>
<td style="text-align:left;">
45 or older
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
1.0118822
</td>
</tr>
<tr>
<td style="text-align:left;">
Not Stated
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Total
</td>
<td style="text-align:right;">
13190
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
</tbody>
</table>
<p>Note: the code used to generate the tables is different in this presentation for design consistency. You can refer to <code>bar-graphs.Rmd</code> for the style commands used there.</p>
<p>The next three tables are generated the same way, so code comments are not given.</p>
</div>
<div id="risk-of-prenatal-care-initiation-by-maternal-education" class="section level3 hasAnchor" number="2.7.2">
<h3><span class="header-section-number">2.7.2</span> Risk of prenatal care initiation by maternal education<a href="mch-report.html#risk-of-prenatal-care-initiation-by-maternal-education" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="mch-report.html#cb37-1" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;Tables/edu.csv&quot;</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb37-2"><a href="mch-report.html#cb37-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>Risk) <span class="sc">%&gt;%</span> </span>
<span id="cb37-3"><a href="mch-report.html#cb37-3" tabindex="-1"></a>  <span class="fu">bind_rows</span>(</span>
<span id="cb37-4"><a href="mch-report.html#cb37-4" tabindex="-1"></a>    <span class="fu">summarise_all</span>(., <span class="sc">~</span><span class="cf">if</span>(<span class="fu">is.numeric</span>(.)) <span class="fu">sum</span>(.) <span class="cf">else</span> <span class="st">&quot;Total&quot;</span>)</span>
<span id="cb37-5"><a href="mch-report.html#cb37-5" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb37-6"><a href="mch-report.html#cb37-6" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb37-7"><a href="mch-report.html#cb37-7" tabindex="-1"></a>    <span class="st">&quot;Risk&quot;</span> <span class="ot">=</span> Early <span class="sc">/</span> Total</span>
<span id="cb37-8"><a href="mch-report.html#cb37-8" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb37-9"><a href="mch-report.html#cb37-9" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb37-10"><a href="mch-report.html#cb37-10" tabindex="-1"></a>    <span class="st">&quot;RR&quot;</span> <span class="ot">=</span> Risk <span class="sc">/</span> <span class="fu">filter</span>(., Education <span class="sc">==</span> <span class="st">&quot;Total&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Risk)</span>
<span id="cb37-11"><a href="mch-report.html#cb37-11" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb37-12"><a href="mch-report.html#cb37-12" tabindex="-1"></a>  <span class="fu">select</span>(Education, Total, RR) <span class="sc">%&gt;%</span> </span>
<span id="cb37-13"><a href="mch-report.html#cb37-13" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">&quot;html&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb37-14"><a href="mch-report.html#cb37-14" tabindex="-1"></a>  <span class="fu">kable_material</span>(<span class="st">&quot;striped&quot;</span>)</span></code></pre></div>
<table class=" lightable-material lightable-striped" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Education
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
RR
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Less than High School
</td>
<td style="text-align:right;">
1131
</td>
<td style="text-align:right;">
0.6992301
</td>
</tr>
<tr>
<td style="text-align:left;">
High School Graduate or GED
</td>
<td style="text-align:right;">
1732
</td>
<td style="text-align:right;">
0.7994403
</td>
</tr>
<tr>
<td style="text-align:left;">
Some College
</td>
<td style="text-align:right;">
2637
</td>
<td style="text-align:right;">
0.9182424
</td>
</tr>
<tr>
<td style="text-align:left;">
Bachelors Degree
</td>
<td style="text-align:right;">
4392
</td>
<td style="text-align:right;">
1.1079030
</td>
</tr>
<tr>
<td style="text-align:left;">
Masters or PhD
</td>
<td style="text-align:right;">
3216
</td>
<td style="text-align:right;">
1.1424848
</td>
</tr>
<tr>
<td style="text-align:left;">
Unknown
</td>
<td style="text-align:right;">
82
</td>
<td style="text-align:right;">
0.6462648
</td>
</tr>
<tr>
<td style="text-align:left;">
Total
</td>
<td style="text-align:right;">
13190
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
</tbody>
</table>
</div>
<div id="risk-of-prenatal-care-initiation-by-marital-status" class="section level3 hasAnchor" number="2.7.3">
<h3><span class="header-section-number">2.7.3</span> Risk of prenatal care initiation by marital status<a href="mch-report.html#risk-of-prenatal-care-initiation-by-marital-status" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="mch-report.html#cb38-1" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;Tables/marital.csv&quot;</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="mch-report.html#cb38-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>Risk) <span class="sc">%&gt;%</span> </span>
<span id="cb38-3"><a href="mch-report.html#cb38-3" tabindex="-1"></a>  <span class="fu">bind_rows</span>(</span>
<span id="cb38-4"><a href="mch-report.html#cb38-4" tabindex="-1"></a>    <span class="fu">summarise_all</span>(., <span class="sc">~</span><span class="cf">if</span>(<span class="fu">is.numeric</span>(.)) <span class="fu">sum</span>(.) <span class="cf">else</span> <span class="st">&quot;Total&quot;</span>)</span>
<span id="cb38-5"><a href="mch-report.html#cb38-5" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb38-6"><a href="mch-report.html#cb38-6" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-7"><a href="mch-report.html#cb38-7" tabindex="-1"></a>    <span class="st">&quot;Risk&quot;</span> <span class="ot">=</span> Early <span class="sc">/</span> Total</span>
<span id="cb38-8"><a href="mch-report.html#cb38-8" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb38-9"><a href="mch-report.html#cb38-9" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-10"><a href="mch-report.html#cb38-10" tabindex="-1"></a>    <span class="st">&quot;RR&quot;</span> <span class="ot">=</span> Risk <span class="sc">/</span> <span class="fu">filter</span>(., <span class="st">`</span><span class="at">Marital Status</span><span class="st">`</span> <span class="sc">==</span> <span class="st">&quot;Total&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Risk)</span>
<span id="cb38-11"><a href="mch-report.html#cb38-11" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb38-12"><a href="mch-report.html#cb38-12" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">Marital Status</span><span class="st">`</span>, Total, RR) <span class="sc">%&gt;%</span> </span>
<span id="cb38-13"><a href="mch-report.html#cb38-13" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">&quot;html&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-14"><a href="mch-report.html#cb38-14" tabindex="-1"></a>  <span class="fu">kable_material</span>(<span class="st">&quot;striped&quot;</span>)</span></code></pre></div>
<table class=" lightable-material lightable-striped" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Marital Status
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
RR
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Married
</td>
<td style="text-align:right;">
9458
</td>
<td style="text-align:right;">
1.0806717
</td>
</tr>
<tr>
<td style="text-align:left;">
Unmarried
</td>
<td style="text-align:right;">
3728
</td>
<td style="text-align:right;">
0.7964074
</td>
</tr>
<tr>
<td style="text-align:left;">
Not Stated
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Total
</td>
<td style="text-align:right;">
13190
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
</tbody>
</table>
</div>
<div id="risk-of-prenatal-care-initiation-by-race-and-ethnicity" class="section level3 hasAnchor" number="2.7.4">
<h3><span class="header-section-number">2.7.4</span> Risk of prenatal care initiation by race and ethnicity<a href="mch-report.html#risk-of-prenatal-care-initiation-by-race-and-ethnicity" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="mch-report.html#cb39-1" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;Tables/race.csv&quot;</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="mch-report.html#cb39-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>Risk) <span class="sc">%&gt;%</span> </span>
<span id="cb39-3"><a href="mch-report.html#cb39-3" tabindex="-1"></a>  <span class="fu">bind_rows</span>(</span>
<span id="cb39-4"><a href="mch-report.html#cb39-4" tabindex="-1"></a>    <span class="fu">summarise_all</span>(., <span class="sc">~</span><span class="cf">if</span>(<span class="fu">is.numeric</span>(.)) <span class="fu">sum</span>(.) <span class="cf">else</span> <span class="st">&quot;Total&quot;</span>)</span>
<span id="cb39-5"><a href="mch-report.html#cb39-5" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb39-6"><a href="mch-report.html#cb39-6" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-7"><a href="mch-report.html#cb39-7" tabindex="-1"></a>    <span class="st">&quot;Risk&quot;</span> <span class="ot">=</span> Early <span class="sc">/</span> Total</span>
<span id="cb39-8"><a href="mch-report.html#cb39-8" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb39-9"><a href="mch-report.html#cb39-9" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-10"><a href="mch-report.html#cb39-10" tabindex="-1"></a>    <span class="st">&quot;RR&quot;</span> <span class="ot">=</span> Risk <span class="sc">/</span> <span class="fu">filter</span>(., <span class="st">`</span><span class="at">Race/Ethnicity</span><span class="st">`</span> <span class="sc">==</span> <span class="st">&quot;Total&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Risk)</span>
<span id="cb39-11"><a href="mch-report.html#cb39-11" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb39-12"><a href="mch-report.html#cb39-12" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">Race/Ethnicity</span><span class="st">`</span>, Total, RR) <span class="sc">%&gt;%</span> </span>
<span id="cb39-13"><a href="mch-report.html#cb39-13" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">&quot;html&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb39-14"><a href="mch-report.html#cb39-14" tabindex="-1"></a>  <span class="fu">kable_material</span>(<span class="st">&quot;striped&quot;</span>)</span></code></pre></div>
<table class=" lightable-material lightable-striped" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Race/Ethnicity
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
RR
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
White/Non-Hispanic
</td>
<td style="text-align:right;">
6478
</td>
<td style="text-align:right;">
1.1219963
</td>
</tr>
<tr>
<td style="text-align:left;">
African American/Non-Hispanic
</td>
<td style="text-align:right;">
2620
</td>
<td style="text-align:right;">
0.8474431
</td>
</tr>
<tr>
<td style="text-align:left;">
Other/Non-Hispanic
</td>
<td style="text-align:right;">
1704
</td>
<td style="text-align:right;">
0.9999717
</td>
</tr>
<tr>
<td style="text-align:left;">
Hispanic
</td>
<td style="text-align:right;">
2388
</td>
<td style="text-align:right;">
0.8364554
</td>
</tr>
<tr>
<td style="text-align:left;">
Total
</td>
<td style="text-align:right;">
13190
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="final-notes-1" class="section level2 hasAnchor" number="2.8">
<h2><span class="header-section-number">2.8</span> Final notes<a href="mch-report.html#final-notes-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This is the end of the R code contributed to the 2024 Maternal and Child Health Report. Not all of these graphics and tables will be included in the final report, but with R, it is relatively painless to generate more graphs and tables than are needed.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>The North Carolina BabyBook is published by the NC Department of Health and Human Services (DHHS) State Center for Health Statistics, and can be found <a href="https://schs.dph.ncdhhs.gov/schs/births/babybook/2022/northcarolina.pdf">online</a>.<a href="mch-report.html#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cd-report.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="stis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
